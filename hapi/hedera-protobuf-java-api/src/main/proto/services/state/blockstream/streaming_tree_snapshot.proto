/**
 * # Streaming Tree Snapshot
 * A complete snapshot of an incremental streaming merkle subtree.
 * This message contains the hashes necessary to reconstruct all
 * of the subtree's 'uncollapsed' nodes.
 *
 * ### Keywords
 * The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
 * "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
 * document are to be interpreted as described in
 * [RFC2119](https://www.ietf.org/rfc/rfc2119) and clarified in
 * [RFC8174](https://www.ietf.org/rfc/rfc8174).
 */
syntax = "proto3";

package com.hedera.hapi.block.stream;

// SPDX-License-Identifier: Apache-2.0
option java_package = "com.hedera.hapi.block.stream.protoc";
// <<<pbj.java_package = "com.hedera.hapi.node.state.blockstream">>> This comment is special code for setting PBJ Compiler java package
option java_multiple_files = true;

message IncrementalStreamingSnapshot {

    /**
     * Which of the block merkle sub trees this snapshot represents
     */
    SubMerkleTree type = 1;

    /**
     * All the uncollapsed nodes of the sub tree. These nodes SHALL
     * be ordered from left to right and bottom to top.
     */
    repeated bytes nodes = 2;
}

/** Identifer for each sub-tree of the block root fixed size tree */
enum SubMerkleTree {
    ITEM_TYPE_UNSPECIFIED = 0;  // Default value, required best practice
    PREVIOUS_BLOCK_ROOT = 1;
    PREVIOUS_ROOTS_TREE = 2;
    PREVIOUS_BLOCK_START_STATE = 3;
    CONSENSUS_HEADER_ITEMS = 4;
    INPUT_ITEMS_TREE = 5;
    OUTPUT_ITEMS_TREE = 6;
    STATE_CHANGE_ITEMS_TREE = 7;
    TRACE_DATA_ITEMS_TREE = 8;
    FUTURE_1 = 9; // these place holders for future use sub trees, will be renamed if they are used later
    FUTURE_2 = 10;
    FUTURE_3 = 11;
    FUTURE_4 = 12;
    FUTURE_5 = 13;
    FUTURE_6 = 14;
    FUTURE_7 = 15;
    FUTURE_8 = 16;
}
